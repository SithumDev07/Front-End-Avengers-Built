(this["webpackJsonpavengers-frontend"]=this["webpackJsonpavengers-frontend"]||[]).push([[0],{110:function(e,t,c){},113:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c.n(n),r=c(19),a=c.n(r),l=(c(57),c(9)),i=c(4),o=c(3),d=c.n(o),j=c(5),b=c(2),u=c(48),x=c.n(u).a.create({baseURL:"https://www.ceylonpickup.com"}),m=(c(77),c(1));var h=function(){return Object(m.jsx)(l.b,{to:"/",className:"fixed hover:text-gray-100 z-50 left-10 top-6 p-2 rounded-full bg-pink text-gray-50",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})})};var p=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(""),a=Object(b.a)(r,2),l=a[0],o=a[1],u=Object(n.useState)(""),p=Object(b.a)(u,2),O=p[0],f=p[1],g=Object(n.useState)(""),v=Object(b.a)(g,2),y=v[0],N=v[1],w=Object(n.useState)(!1),C=Object(b.a)(w,2),k=C[0],S=C[1],I=Object(n.useState)(),T=Object(b.a)(I,2),L=T[0],D=T[1],E=(new Date).getDate().toString();function q(){return(q=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.post("/customer/save",{address:y,date:E,name:c,nic:O,phone:l}).then((function(e){S(!0),localStorage.setItem("cus_id",e.data)})).catch((function(e){e.response?D("Can't send customer information"):e.request?(D("Internal Server Error"),console.log(e)):D("Can't send customer information")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return k?Object(m.jsx)(i.a,{to:"/order"}):void 0!==L?Object(m.jsx)("div",{className:"w-screen h-screen flex items-center justify-center text-7xl tracking-widest font-light uppercase text-gray-400",children:L}):Object(m.jsxs)("div",{className:"h-auto flex w-screen justify-end bg-gray-100 overflow-hidden relative",children:[Object(m.jsx)(h,{}),Object(m.jsxs)("div",{className:"ml-16",children:[Object(m.jsxs)("svg",{width:"982",height:"1200",viewBox:"0 0 982 1200",fill:"none",className:"customer-shape",children:[Object(m.jsx)("path",{d:"M915 1206C915 1206 756 951 772 724C788 497 1002 561 980 228C980 228 967 62 899 2H0V1201L915 1206Z",fill:"#FFDB6D"}),Object(m.jsx)("path",{d:"M898 1203C898 1203 739 948 755 721C771 494 985 558 963 225C963 225 950 59 882 -1L0 2V1201L898 1203Z",fill:"#F9F9F9"})]}),Object(m.jsxs)("div",{className:"absolute left-24 top-20 overflow-y-scroll",style:{height:"90vh"},children:[Object(m.jsx)("h1",{className:"text-yellow-light text-3xl text-logo font-semibold",children:"Avengers cafe"}),Object(m.jsxs)("div",{className:"mt-10",children:[Object(m.jsx)("h2",{className:"text-4xl font-semibold",children:"Welcome Back!"}),Object(m.jsx)("h3",{className:"text-2xl",children:"We need your information for your own safety."})]}),Object(m.jsxs)("div",{className:" ml-12 mt-12\u2248",children:[Object(m.jsxs)("div",{className:"flex flex-col w-24 min-w-full items-start mt-2",children:[Object(m.jsx)("label",{name:"",children:"Name"}),Object(m.jsx)("input",{type:"text",className:"bg-white px-3 py-3 rounded-md mt-3 w-24 min-w-full",name:"Name",id:"Name",placeholder:"Enter your name",onChange:function(e){return s(e.target.value)}})]}),Object(m.jsxs)("div",{className:"flex flex-col items-start mt-2",children:[Object(m.jsx)("label",{name:"",children:"Mobile"}),Object(m.jsx)("input",{type:"text",className:"bg-white px-3 py-3 rounded-md mt-3 w-24 min-w-full",name:"Mobile",id:"Mobile",placeholder:"Enter your mobile number",maxLength:"10",onChange:function(e){return o(e.target.value)}})]}),Object(m.jsxs)("div",{className:"flex flex-col items-start mt-2",children:[Object(m.jsx)("label",{name:"",children:"NIC"}),Object(m.jsx)("input",{type:"text",className:"bg-white px-3 py-3 rounded-md mt-3 w-24 min-w-full",name:"NIC",id:"NIC",placeholder:"Enter your NIC number",onChange:function(e){return f(e.target.value)}})]}),Object(m.jsxs)("div",{className:"flex flex-col items-start mt-2",children:[Object(m.jsx)("label",{name:"Address",children:"Address"}),Object(m.jsx)("textarea",{name:"Address",className:"bg-white px-3 py-3 rounded-md mt-3 w-24 min-w-full",id:"Address",placeholder:"Enter your address",onChange:function(e){return N(e.target.value)}})]}),Object(m.jsx)("button",{id:"",className:"bg-yellow-light px-7 py-4 rounded-md mt-10 w-24 min-w-full",onClick:function(){return q.apply(this,arguments)},children:"Get Started"})]})]})]}),Object(m.jsx)("div",{className:"h-screen flex justify-end bg-blue-400",children:Object(m.jsx)("img",{src:"./images/one.png",alt:"",className:"w-full h-full object-contain"})})]})};var O=function(){return Object(m.jsx)("div",{className:"",children:Object(m.jsx)("div",{className:"container mx-auto",children:Object(m.jsxs)("div",{className:"flex flex-col items-start justify-center",children:[Object(m.jsx)(l.b,{to:"/customer-safety",className:"px-6 py-4 rounded-lg hover:text-gray-300 bg-pink mb-6",children:"Customer Safety"}),Object(m.jsx)(l.b,{to:"/kitchen",className:"px-6 py-4 rounded-lg hover:text-gray-300 bg-pink mb-6",children:"Kitchen"}),Object(m.jsx)(l.b,{to:"/dashboard/cashier",className:"px-6 py-4 rounded-lg hover:text-gray-300 bg-pink mb-6",children:"Cashier"}),Object(m.jsx)(l.b,{to:"/dashboard/manager",className:"px-6 py-4 rounded-lg hover:text-gray-300 bg-pink",children:"Manager"})]})})})};var f=function(){return Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"w-screen h-screen flex items-center justify-center text-7xl tracking-widest font-light uppercase text-gray-100",children:Object(m.jsx)(O,{})})})},g=c(16);c(39);var v=function(e){var t=e.image,c=e.name,n=e.price;return Object(m.jsxs)("div",{className:"bg-white w-52 rounded-lg flex flex-col items-center px-6 py-3 cursor-pointer",children:[Object(m.jsx)("div",{className:"rounded-full h-36 w-36 bg-yellow-mid flex items-center justify-center",children:Object(m.jsx)("img",{src:t,className:"category-image",alt:"Food"})}),Object(m.jsx)("h1",{className:"text-xl mt-3 text-center",children:c}),Object(m.jsxs)("h2",{className:"text-2xl font-semibold",children:["Rs.",n]})]})},y=c(24);var N=function(e){var t=e.image,c=e.name,n=e.quantity,s=e.price;return Object(m.jsxs)("div",{className:"flex items-center mb-4 pr-3",children:[Object(m.jsx)("div",{className:"w-28 h-w-28 bg-yellow-mid rounded-full flex items-center justify-center",children:Object(m.jsx)("img",{className:"category-image",src:t,alt:"Item"})}),Object(m.jsxs)("div",{className:"flex flex-1 flex-col px-3 justify-between",children:[Object(m.jsx)("h3",{className:"text-xl font-semibold text-gray-500",children:c}),Object(m.jsxs)("p",{className:"text-gray-400 text-lg",children:["$",s]})]}),Object(m.jsxs)("p",{className:"px-3 text-lg text-gray-500",children:["x",n]}),Object(m.jsxs)("p",{className:"text-lg text-gray-500",children:["$",s*n]})]})};c(40);var w=function(e){var t=e.active,c=e.icon,n=e.title;return Object(m.jsxs)("div",{className:"cursor-pointer w-36 h-44 flex flex-col items-center justify-center rounded-3xl ".concat(t?"bg-yellow-light":"bg-gray-50"),children:[Object(m.jsx)("div",{className:"w-24 h-24 flex items-center justify-center rounded-3xl ".concat(t?"bg-white":"bg-gray-300"),children:Object(m.jsx)("img",{src:c,alt:"Icon"})}),Object(m.jsx)("p",{className:"text-center text-2xl font-semibold text-gray-500 mt-3",children:n})]})},C=c(51),k=c.n(C),S=c(115),I={ACTIVE:1,INACTIVE:2,BILLD:3,PENDING:4,COMPLETED:5},T=c(30);c(44);var L=function(e){var t=e.icon,c=e.name,n=e.active;return Object(m.jsxs)("div",{className:"".concat(n?"bg-pink":"bg-gray-100"," w-24 h-24 rounded-md flex flex-col items-center justify-center cursor-pointer"),children:[t,Object(m.jsx)("p",{className:"".concat(n?"text-white":"text-gray-500"),children:c})]})},D=c(17);var E=function(e){var t=Object(m.jsx)(y.a,{className:"w-14 h-14 block ".concat("Home"===e.type?"text-white":"text-gray-500")}),c=Object(m.jsx)(D.b,{className:"w-14 h-14 block ".concat("Kitchen"===e.type?"text-white":"text-gray-500")}),n=Object(m.jsx)(D.a,{className:"w-14 h-14 text-gray-500 block"}),s=Object(m.jsx)(D.c,{className:"w-14 h-14 text-gray-500 block"}),r=Object(m.jsx)(D.e,{className:"w-14 h-14 text-gray-500 block"}),a=Object(m.jsx)(D.d,{className:"w-14 h-14 block ".concat("Dashboard"===e.type?"text-white":"text-gray-500")});return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"w-1/12 flex flex-col justify-between pb-1 fixed left-0 top-0 bottom-0 bg-gray-100",children:[Object(m.jsxs)("div",{className:"flex flex-col h-3/4 justify-around items-center overflow-hidden",children:[Object(m.jsx)("div",{className:"w-20 h-20 overflow-hidden flex items-center justify-center border-2 mt-3 mb-6",children:Object(m.jsx)("img",{src:"./images/logo.png",alt:"LOGO",className:"logo object-contain"})}),"Home"===e.type&&Object(m.jsx)(L,{icon:t,name:"Home",active:!0}),"Kitchen"===e.type&&Object(m.jsx)(L,{icon:c,name:"Kitchen",active:!0}),"Dashboard"===e.type&&Object(m.jsx)(L,{icon:a,name:"Dashboard",active:!0}),Object(m.jsx)(L,{icon:n,name:"Chat",active:"Chat"===e.type}),Object(m.jsx)(L,{icon:s,name:"Settings",active:"Settings"===e.type})]}),Object(m.jsx)(l.b,{to:"/",children:Object(m.jsx)(L,{icon:r,name:"Close",active:!1})})]})})},q=[{id:1,title:"rice",icon:"./images/pizza.png"},{id:2,title:"burger",icon:"./images/burger.png"},{id:3,title:"pizza",icon:"./images/rice.png"},{id:4,title:"hot",icon:"./images/pizza.png"},{id:5,title:"devilled",icon:"./images/rice.png"}];var M=function(){var e=Object(n.useState)(1),t=Object(b.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)([]),a=Object(b.a)(r,2),l=a[0],i=a[1],o=Object(n.useState)(!1),u=Object(b.a)(o,2),h=u[0],p=u[1],O=Object(n.useState)({}),f=Object(b.a)(O,2),C=f[0],L=f[1],D=Object(n.useState)([]),M=Object(b.a)(D,2),P=M[0],F=M[1],R=Object(n.useState)(0),B=Object(b.a)(R,2),H=B[0],A=B[1],z=Object(n.useState)(0),G=Object(b.a)(z,2),Z=G[0],_=G[1],V=Object(n.useState)(!1),K=Object(b.a)(V,2),W=K[0],Y=K[1],J=Object(n.useState)(!1),Q=Object(b.a)(J,2),U=Q[0],$=Q[1],X=Object(n.useRef)(null),ee=Object(n.useRef)(null),te=Object(n.useRef)(null),ce=function(){return p(!1)},ne=function(){return T.b.success("You Order has been placed",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},se=function(e,t){var c={element:e,qty:t};F([].concat(Object(g.a)(P),[c])),A(0),ce(),Y(!1),_(Z+parseFloat(c.qty)*parseFloat(c.element.price)),function(e){le.apply(this,arguments)}(c)};function re(e){return ae.apply(this,arguments)}function ae(){return ae=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/api/customer/save/FoodMenu/FoodCategory/".concat(t)).then((function(e){i(e.data)})).catch((function(e){e.response?console.error(e.response):e.request?console.log(e.request):console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),ae.apply(this,arguments)}function le(){return(le=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.post("/api/order/newitem",{foodie:t.element.food_id,quantity:t.qty,cusId:localStorage.getItem("cus_id")}).then((function(e){console.log(e)})).catch((function(e){e.response?console.error(e.response):e.request?console.log(e.request):console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return oe.apply(this,arguments)}function oe(){return(oe=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.post("/api/v1/order/neworder",{actId:I.PENDING,cusId:localStorage.getItem("cus_id"),totalPrice:parseFloat(.9*Z),tableNum:1}).then((function(e){setTimeout((function(){window.location="#/customer-safety"}),3e3)})).catch((function(e){e.response?console.error(e.response):e.request?console.log(e.request):console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){return re(c),function(){}}),[]),Object(n.useEffect)((function(){null!==te.current&&H<1&&(te.current.disabled=!0)}),[H]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"w-screen h-screen bg-gray-100 flex relative",children:[Object(m.jsx)(T.a,{}),Object(m.jsx)(E,{type:"Home"}),Object(m.jsxs)("button",{ref:ee,onClick:function(){console.log(X.current),X.current.classList.toggle("translate-x-full"),ee.current.querySelector(".cart-icon").classList.toggle("hidden"),ee.current.querySelector(".close-icon").classList.toggle("hidden"),$(!U)},className:"w-20 h-20 rounded-full bg-pink fixed z-50 top-8 right-6 flex items-center justify-center",children:[Object(m.jsx)("svg",{className:"w-10 h-10 cart-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.1213 11.2331H16.8891C17.3088 11.2331 17.6386 10.8861 17.6386 10.4677C17.6386 10.0391 17.3088 9.70236 16.8891 9.70236H14.1213C13.7016 9.70236 13.3719 10.0391 13.3719 10.4677C13.3719 10.8861 13.7016 11.2331 14.1213 11.2331ZM20.1766 5.92749C20.7861 5.92749 21.1858 6.1418 21.5855 6.61123C21.9852 7.08067 22.0551 7.7542 21.9652 8.36549L21.0159 15.06C20.8361 16.3469 19.7569 17.2949 18.4879 17.2949H7.58639C6.25742 17.2949 5.15828 16.255 5.04837 14.908L4.12908 3.7834L2.62026 3.51807C2.22057 3.44664 1.94079 3.04864 2.01073 2.64043C2.08068 2.22305 2.47038 1.94649 2.88006 2.00874L5.2632 2.3751C5.60293 2.43735 5.85274 2.72207 5.88272 3.06905L6.07257 5.35499C6.10254 5.68257 6.36234 5.92749 6.68209 5.92749H20.1766ZM7.42631 18.9079C6.58697 18.9079 5.9075 19.6018 5.9075 20.459C5.9075 21.3061 6.58697 22 7.42631 22C8.25567 22 8.93514 21.3061 8.93514 20.459C8.93514 19.6018 8.25567 18.9079 7.42631 18.9079ZM18.6676 18.9079C17.8282 18.9079 17.1487 19.6018 17.1487 20.459C17.1487 21.3061 17.8282 22 18.6676 22C19.4969 22 20.1764 21.3061 20.1764 20.459C20.1764 19.6018 19.4969 18.9079 18.6676 18.9079Z",fill:"white"})}),Object(m.jsx)("svg",{className:"w-10 h-10 close-icon hidden",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.66976 1.99915H16.3398C19.7298 1.99915 21.9998 4.37915 21.9998 7.91915V16.0901C21.9998 19.6201 19.7298 21.9991 16.3398 21.9991H7.66976C4.27976 21.9991 1.99976 19.6201 1.99976 16.0901V7.91915C1.99976 4.37915 4.27976 1.99915 7.66976 1.99915ZM15.0098 14.9991C15.3498 14.6601 15.3498 14.1101 15.0098 13.7701L13.2298 11.9901L15.0098 10.2091C15.3498 9.87015 15.3498 9.31015 15.0098 8.97015C14.6698 8.62915 14.1198 8.62915 13.7698 8.97015L11.9998 10.7491L10.2198 8.97015C9.86976 8.62915 9.31976 8.62915 8.97976 8.97015C8.63976 9.31015 8.63976 9.87015 8.97976 10.2091L10.7598 11.9901L8.97976 13.7601C8.63976 14.1101 8.63976 14.6601 8.97976 14.9991C9.14976 15.1691 9.37976 15.2601 9.59976 15.2601C9.82976 15.2601 10.0498 15.1691 10.2198 14.9991L11.9998 13.2301L13.7798 14.9991C13.9498 15.1801 14.1698 15.2601 14.3898 15.2601C14.6198 15.2601 14.8398 15.1691 15.0098 14.9991Z",fill:"white"})})]}),Object(m.jsxs)("div",{className:"py-6 px-5 w-3/4 bg-gray-100 absolute top-0 left-36",children:[Object(m.jsxs)("div",{className:"mb-5",children:[Object(m.jsx)("h1",{className:"text-4xl font-semibold text-gray-500",children:"Menu Category"}),Object(m.jsx)("div",{className:"flex mt-6",children:q.map((function(e){return Object(m.jsx)("button",{className:"btn",onClick:function(t){s(e.id),re(e.id)},children:Object(m.jsx)(w,{active:c===e.id,icon:e.icon,title:e.title},e.id)})}))}),Object(m.jsx)("h1",{className:"text-4xl font-semibold text-gray-500 mt-4",children:"Pick Your Favourite"})]}),l.length>0?Object(m.jsxs)("div",{className:"grid grid-cols-4 pb-10 relative",children:[Object(m.jsx)("div",{className:"absolute z-30 top-0 right-0 left-0 bottom-0 w-4/5 h-full glass ".concat("hidden")}),l.map((function(e){return Object(m.jsx)("button",{className:"btn",onClick:function(){p(!0),L(e)},children:Object(m.jsx)(v,{image:e.image,name:e.name,price:e.price},e.food_id)})}))]}):Object(m.jsx)("div",{className:"flex items-start justify-center bg-gray-300",children:Object(m.jsx)("p",{className:"text-center text-xl bg-gray-300 px-8 py-4 ",children:"No Items Available"})})]}),Object(m.jsxs)("div",{className:"w-2/5 px-4 py-10 fixed top-0 right-0 bottom-0 bg-white transform translate-x-full transition duration-500",ref:X,children:[Object(m.jsx)("h1",{className:"text-2xl font-semibold mb-10",children:"Order Menu"}),0===P.length?Object(m.jsx)("div",{className:"flex items-start justify-center mt-14",children:Object(m.jsx)("p",{className:"text-center text-xl bg-gray-300 px-6 py-3 rounded-full",children:"No Items Available"})}):Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"cart-property",children:P.map((function(e){return Object(m.jsx)(N,{image:e.element.image,name:e.element.name,quantity:e.qty,price:e.element.price})}))}),Object(m.jsx)("div",{className:"w-11/12 h-1 border-2 border-dashed border-gray-400 mx-auto"}),!W&&Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"px-3 mt-6",children:[Object(m.jsxs)("div",{className:"flex text-2xl font-semibold text-gray-600",children:[Object(m.jsx)("p",{className:"flex-1",children:"Sub Total"}),Object(m.jsxs)("p",{children:["Rs.",Z]})]}),Object(m.jsxs)("div",{className:"flex text-2xl font-semibold text-gray-600 mt-2",children:[Object(m.jsx)("p",{className:"flex-1",children:"Discount(10%)"}),Object(m.jsxs)("p",{children:["Rs.",.1*Z]})]})]})})]}),!W&&Object(m.jsx)("div",{className:"".concat(0===P.length?"opacity-60":"opacity-100"," order-btn-properties absolute bottom-10 left-1/2 transform -translate-x-1/2 px-4 py-3 bg-pink text-white rounded-full flex items-center justify-center cursor-pointer"),children:Object(m.jsx)("button",{className:"btn btn-block text-white",onClick:function(){Y(!0)},children:0===P.length?Object(m.jsx)(y.b,{className:"w-10 h-10 text-gray-50 block"}):Object(m.jsxs)("p",{className:"text-xl font-semibold",children:["Order Rs.",Z-.1*Z]})})}),W&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"row mt-2 justify-content-around",children:[Object(m.jsx)("div",{className:"col-4 payment-method-properties",children:Object(m.jsx)("img",{src:"./images/card_payment.png",alt:"food"})}),Object(m.jsx)("div",{className:"col-4 payment-method-properties",children:Object(m.jsx)("img",{src:"./images/cash_payment.png",alt:"food"})})]}),Object(m.jsxs)("div",{className:"row mt-2 justify-content-around",children:[Object(m.jsx)("div",{className:"col-4 payment-method-properties",children:Object(m.jsx)("button",{className:"btn btn-block bg-pink text-white",onClick:function(){ne(),ie()},children:"Card"})}),Object(m.jsx)("div",{className:"col-4 payment-method-properties",children:Object(m.jsx)("button",{className:"btn btn-block bg-pink text-white",onClick:function(){ne(),ie()},children:"Cash"})})]})]})]})]}),Object(m.jsxs)(k.a,{isOpen:h,onRequestClose:ce,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",borderRadius:"2rem",width:"25vw",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column",alignItems:"center"}},contentLabel:"Example Modal",appElement:document.getElementById("root")||void 0,children:[Object(m.jsx)(v,{image:C.image,name:C.name,price:C.price},C.food_id),Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)("label",{htmlFor:"elementName",className:"col-sm-4 col-form-label align-text-left text-xl",children:"Quantity"}),Object(m.jsx)("div",{className:"ml-3",children:Object(m.jsx)("input",{className:"form-control theam-textbox items-align-left px-3 py-2",type:"number",id:"elementName",onChange:function(e){A(parseInt(e.target.value))}})})]}),Object(m.jsx)(S.a,{ref:te,className:"bg-pink text-white rounded-full px-4 py-3 mt-3 hover:bg-opacity-75 disabled:opacity-40",onClick:function(){se(C,H)},children:"Add To Cart"})]})]})},P=c(12),F=(c(45),c(52)),R=c.n(F);var B=function(e){var t=e.key,c=e.userData,s=e.selectedCustomerId,r=Object(n.useState)([]),a=Object(b.a)(r,2),l=a[0],i=a[1],o=Object(n.useState)(0),u=Object(b.a)(o,2),h=u[0],p=u[1],O=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/api/order/singleorder/"+c.cusID).then((function(e){e.data.map((function(e){return i((function(t){return[].concat(Object(g.a)(t),[e])})),t=e,void p((function(e){return e+t.prepTime*t.quantity}));var t}))})).catch((function(e){e.response?console.error(e.response):e.request?console.log(e.request):console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i([]),O()}),[]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"order-panel pt-3 pl-3 pr-3",children:[Object(m.jsxs)("div",{className:"row justify-content-between",children:[Object(m.jsxs)("div",{className:"col-4",children:[" ID : ",c.cusID]}),Object(m.jsxs)("div",{className:"col-3",children:[" Table No : ",c.tableNum]})]}),Object(m.jsx)("div",{className:"row justify-content-between mt-2",children:Object(m.jsx)("div",{className:"col-5",children:" Section No : 1"})}),Object(m.jsx)("div",{className:"row justify-content-center mt-2 not-selected-card-label",children:Object(m.jsx)("div",{className:"col-6 text-align-center",children:"New Items"})}),Object(m.jsx)("div",{className:"h-3/5 overflow-auto",children:l.map((function(e){return Object(m.jsxs)("div",{className:"row mt-4 justify-content-center",children:[Object(m.jsxs)("div",{className:"col-2",children:[" ",e.quantity]}),Object(m.jsxs)("div",{className:"col-6",children:[" ",e.fname]})]})}))}),Object(m.jsx)("div",{className:"row prep-time-label ".concat(s===c.cusID?"selected-card-label":"not-selected-card-label"),children:Object(m.jsxs)("div",{className:"col-12 text-align-center",children:["Preparation Time : ",h," min"]})})]},t)})};var H=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)([]),a=Object(b.a)(r,2),l=a[0],i=a[1],o=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/api/order/cofirmorder").then((function(e){e.data.map((function(e){return i((function(t){return[].concat(Object(g.a)(t),[e])}))}))})).catch((function(e){e.response?console.error(e.response):e.request?console.log(e.request):console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){i([]),o(),console.log(l.length)}),[]);var u=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.put("/api/v1/order/chefconfirm/"+t).then((function(e){s(""),i((function(e){var c=e.findIndex((function(e){return e.cusID===t}));return l.splice(c,1)}))})).catch((function(e){e.response?console.error(e.response):e.request?console.log(e.request):console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{style:{maxWidth:"90vw"},children:Object(m.jsx)(R.a,Object(P.a)(Object(P.a)({},{dots:!0,infinite:!0,speed:500,slidesToShow:4,slidesToScroll:1,adaptiveHeight:!0}),{},{children:l.map((function(e,t){return Object(m.jsx)("button",{onClick:function(){s(e.cusID)},children:Object(m.jsx)(B,{userData:e,selectedCustomerId:c},t)})}))}))}),Object(m.jsx)("div",{className:"row justify-content-center",children:Object(m.jsx)("div",{className:"col-3 done-btn-property",children:Object(m.jsx)("button",{type:"button",className:"btn btn-primary",disabled:""===c||void 0===c,onClick:function(){u(c)},children:"Done"})})})]})};var A=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"w-screen h-screen bg-gray-100 flex relative",children:[Object(m.jsx)(E,{type:"Kitchen"}),Object(m.jsx)("div",{className:"pt-5 pl-2 pr-6 w-screen",children:Object(m.jsx)(H,{})})]})})};function z(e){var t=Object(n.useState)({icon:"",amount:"",name:"",type:""}),c=Object(b.a)(t,2),s=c[0],r=c[1],a=Object(n.useState)(0),l=Object(b.a)(a,2),i=l[0],o=l[1],u=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/api/order/reports/"+t).then((function(e){o(e.data)})).catch((function(e){e.response?console.error(e.response):e.request?console.log(e.request):console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/api/order/reports/totalrevenue").then((function(e){o(e.data)})).catch((function(e){e.response?console.error(e.response):e.request?console.log(e.request):console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){switch(function(){switch(Number(e.reportType)){case I.BILLD:return r({icon:"./images/order.png",name:"Billed",amount:i,type:"billd"});case I.PENDING:return u(I.PENDING.toString()),r({icon:"./images/pending.png",name:"Pending",amount:i,type:"pending"});case I.COMPLETED:return u(I.COMPLETED.toString()),r({icon:"./images/dispatch.png",name:"Dispatch",amount:i,type:"completed"});default:r({icon:"./images/Total.png",name:"Total",amount:"300"})}}(),parseInt(e.reportType)){case I.BILLD:return u("billed");case I.PENDING:return u("pending");case I.COMPLETED:return u("completed");default:return h()}}),[]),Object(m.jsxs)("div",{className:"grid grid-rows-1 grid-flow-col gap-x-0 gap-y-0 p-2",children:[Object(m.jsx)("div",{className:"row-span-2 flex justify-center w-12 h-12",children:Object(m.jsx)("img",{src:s.icon,alt:"report icon"})}),Object(m.jsx)("div",{className:"row-span-2  text-2xl font-bold font-serif col-span-2 text-center",children:i}),Object(m.jsx)("div",{className:"col-span-2 text-center text-1xl font-bold",children:s.name})]})}c(47);var G=Object(n.createContext)({id:0,setId:function(){}}),Z=Object(n.createContext)({openTable:!1,setOpenTable:function(){}}),_=Object(n.createContext)({total:0,setTotal:function(){}});function V(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(!1),a=Object(b.a)(r,2),l=(a[0],a[1]),i=Object(n.useState)(!1),o=Object(b.a)(i,2),u=(o[0],o[1]),h=Object(n.useContext)(G),p=(h.id,h.setId);Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/api/order/checkorder").then((function(e){return s(e.data),0!==e.data.length?l(!1):u("No Orders"),e})).catch((function(e){e.response?u("No Orders"):e.request?u("Internal Server Error"):u("Can't Load Orders")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var O=Object(n.useContext)(Z),f=O.openTable,g=O.setOpenTable,v=Object(n.useContext)(_).setTotal,y=c.map((function(e,t){return Object(m.jsxs)("tr",{className:"bg-white border pt-5 text-lg",children:[Object(m.jsx)("td",{children:t+1}),Object(m.jsx)("td",{children:e.cname}),Object(m.jsx)("td",{children:e.tableNum}),Object(m.jsx)("td",{children:e.actType}),Object(m.jsxs)("td",{children:["Rs.",e.totalPrice,".00"]}),Object(m.jsx)("td",{children:Object(m.jsx)("button",{className:"px-3 py-2 bg-green-500 rounded-md text-white",onClick:function(){return t=e.cusId,c=e.totalPrice,p(t),v(c),void g(!0);var t,c},children:"View"})})]},e.cusId)}));return f?null:Object(m.jsx)("div",{className:"",children:Object(m.jsxs)("table",{className:"table table-hover text-lg text-center",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"col",children:"No"}),Object(m.jsx)("th",{scope:"col",children:"Customer"}),Object(m.jsx)("th",{scope:"col",children:"Table No"}),Object(m.jsx)("th",{scope:"col",children:"Status"}),Object(m.jsx)("th",{scope:"col",children:"Total (10% Discount)"}),Object(m.jsx)("th",{scope:"col",children:"Action"})]})}),Object(m.jsx)("tbody",{className:"",children:y})]})})}function K(){var e=Object(n.useContext)(G).id,t=Object(n.useContext)(Z).openTable,c=Object(n.useContext)(_).total,s=Object(n.useState)([]),r=Object(b.a)(s,2),a=r[0],l=r[1],i=Object(n.useState)(!0),o=Object(b.a)(i,2),u=(o[0],o[1]),h=Object(n.useState)(!1),p=Object(b.a)(h,2),O=(p[0],p[1]);return Object(n.useEffect)((function(){function t(){return(t=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.get("/api/order/singleorder/".concat(e)).then((function(e){return l(e.data),0!==e.data.length?u(!1):O("No Orders"),e})).catch((function(e){e.response?O("No Orders"):e.request?O("Internal Server Error"):O("Can't Load Orders")}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),t?Object(m.jsxs)("div",{children:[Object(m.jsxs)("table",{className:"table table-hover",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"col",children:"Item No"}),Object(m.jsx)("th",{scope:"col",children:"Food Items"}),Object(m.jsx)("th",{scope:"col",children:"QTY"}),Object(m.jsx)("th",{scope:"col",children:"Unit price"}),Object(m.jsx)("th",{scope:"col",children:"Price"})]})}),Object(m.jsx)("tbody",{className:"table-body-fixed-height",children:a.map((function(e,t){return Object(m.jsxs)("tr",{className:"bg-white border pt-5 text-xl",children:[Object(m.jsx)("td",{children:t+1}),Object(m.jsx)("td",{children:e.fname}),Object(m.jsx)("td",{children:e.quantity}),Object(m.jsxs)("td",{children:["Rs.",e.price,".00"]}),Object(m.jsxs)("td",{children:["Rs.",e.price*e.quantity,".00"]})]},t)}))})]}),Object(m.jsxs)("div",{className:"row justify-content-end text-2xl mt-10",children:[Object(m.jsx)("label",{className:"col-2 text-center",children:"Total (10% Discount)"}),Object(m.jsxs)("label",{className:"col-4 text-center",children:["Rs.",c,".00"]})]})]}):null}var W=function(e){var t=e.userType,c=Object(n.useContext)(Z),s=c.openTable,r=c.setOpenTable,a=Object(n.useContext)(G).id,l=Object(n.useState)(!1),i=Object(b.a)(l,2),o=i[0],u=i[1],h=Object(n.useState)(!1),p=Object(b.a)(h,2),O=(p[0],p[1]);function f(){return(f=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.put("/api/v1/order/cashierconfirm/".concat(a),{}).then((function(e){u(!0)})).catch((function(e){e.response?O("Can't complete order"):e.request?O("Internal Server Error"):O("Can't complete order")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(o)window.location.reload();else if(!s)return null;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"text-center text-xl",children:Object(m.jsx)("button",{className:"mr-2 btn btn-success rounded-md bg-green-500 px-4 py-3 text-white",onClick:function(){return r(!1)},children:"Cancel"})}),"manager"!==t?Object(m.jsx)("div",{className:"text-center text-xl",children:Object(m.jsx)("button",{className:"btn btn-warn rounded-md bg-red-500 px-4 py-3 text-white",onClick:function(){!function(){f.apply(this,arguments)}()},children:"Proceed"})}):null]})};var Y=function(){var e=Object(n.useState)(0),t=Object(b.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(0),a=Object(b.a)(r,2),l=a[0],o=a[1],d=Object(n.useState)(!1),j=Object(b.a)(d,2),u=j[0],x=j[1],h=Object(i.g)().userType;return Object(m.jsxs)("div",{className:"w-screen bg-gray-100 h-full flex relative justify-end",children:[Object(m.jsx)(E,{type:"Dashboard"}),Object(m.jsx)(Z.Provider,{value:{openTable:u,setOpenTable:x},children:Object(m.jsxs)("div",{className:"box-border  bg-red-100 h-90 w-5/6 p-12 m-12 rounded-3xl",children:[Object(m.jsx)("div",{className:"font-black pb-3 text-xl",children:"Live Orders"}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col h-15 w-15 rounded-2xl bg-white m-1",children:Object(m.jsx)(z,{reportType:I.BILLD})}),Object(m.jsx)("div",{className:"col h-15 w-15 rounded-2xl bg-white m-1",children:Object(m.jsx)(z,{reportType:I.PENDING})}),Object(m.jsx)("div",{className:"col h-15 w-15 rounded-2xl bg-white m-1",children:Object(m.jsx)(z,{reportType:I.COMPLETED})}),Object(m.jsx)("div",{className:"col h-15 w-15 rounded-2xl bg-white m-1",children:Object(m.jsx)(z,{})})]}),Object(m.jsx)("div",{className:"row justify-content-between mt-12",children:Object(m.jsx)("div",{className:"col-2 font-black pt-3 pb-3 text-xl",children:"Orders"})}),Object(m.jsxs)(G.Provider,{value:{id:c,setId:s},children:[Object(m.jsxs)(_.Provider,{value:{total:l,setTotal:o},children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsx)(V,{})}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)(K,{})})]}),Object(m.jsx)("div",{className:"justify-content-end mt-6 flex items-center",children:Object(m.jsx)(W,{userType:h})})]})]})})]})};var J=function(){return Object(m.jsx)(l.a,{children:Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)(i.d,{children:[Object(m.jsx)(i.b,{exact:!0,path:"/",children:Object(m.jsx)(f,{})}),Object(m.jsx)(i.b,{path:"/customer-safety",children:Object(m.jsx)(p,{})}),Object(m.jsx)(i.b,{path:"/order",children:Object(m.jsx)(M,{})}),Object(m.jsx)(i.b,{path:"/kitchen",children:Object(m.jsx)(A,{})}),Object(m.jsx)(i.b,{path:"/dashboard/:userType",children:Object(m.jsx)(Y,{})})]})})})};c(110),c(111),c(112);a.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(J,{})}),document.getElementById("root"))},39:function(e,t,c){},40:function(e,t,c){},45:function(e,t,c){},47:function(e,t,c){},57:function(e,t,c){},77:function(e,t,c){}},[[113,1,2]]]);
//# sourceMappingURL=main.b0c73eef.chunk.js.map